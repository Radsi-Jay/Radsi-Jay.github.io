(()=>{var S={};var se=Matter.Common;(function(){S.create=function(t){var e={};t||se.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null};let o=!1;e.setCurrentlyInteracting=function(i){o=i};let n=!1;return e.readMouseDown=function(){let i=n;return n=!1,i},e.mousemove=function(i){var s=S._getRelativeMousePosition(i,e.element,e.pixelRatio),l=i.changedTouches;l&&(e.button=0,o&&i.preventDefault()),e.absolute.x=s.x,e.absolute.y=s.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=i},e.mousedown=function(i){var s=S._getRelativeMousePosition(i,e.element,e.pixelRatio),l=i.changedTouches;n=!0,l?(e.button=0,o&&i.preventDefault()):e.button=i.button,e.absolute.x=s.x,e.absolute.y=s.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=i},e.mouseup=function(i){var s=S._getRelativeMousePosition(i,e.element,e.pixelRatio),l=i.changedTouches;l&&o&&i.preventDefault(),e.button=-1,e.absolute.x=s.x,e.absolute.y=s.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=i},e.mousewheel=function(i){e.wheelDelta=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail)),i.preventDefault()},S.setElement(e,e.element),e},S.setElement=function(t,e){t.element=e,window.addEventListener("mousemove",t.mousemove,{passive:!1}),e.addEventListener("mousedown",t.mousedown),window.addEventListener("mouseup",t.mouseup,{passive:!1}),e.addEventListener("mousewheel",t.mousewheel),e.addEventListener("DOMMouseScroll",t.mousewheel),window.addEventListener("touchmove",t.mousemove,{passive:!1}),e.addEventListener("touchstart",t.mousedown),window.addEventListener("touchend",t.mouseup,{passive:!1})},S.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},S.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},S.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},S._getRelativeMousePosition=function(t,e,o){var n=e.getBoundingClientRect(),i=document.documentElement||document.body.parentNode||document.body,s=window.pageXOffset!==void 0?window.pageXOffset:i.scrollLeft,l=window.pageYOffset!==void 0?window.pageYOffset:i.scrollTop,f=t.changedTouches,A,p;return f?(A=f[0].pageX-n.left-s,p=f[0].pageY-n.top-l):(A=t.pageX-n.left-s,p=t.pageY-n.top-l),{x:A/(e.clientWidth/(e.width||e.clientWidth)*o),y:p/(e.clientHeight/(e.height||e.clientHeight)*o)}}})();var P={};var ae=Matter.Vertices,q=Matter.Sleeping,D=Matter.Mouse,F=Matter.Events,re=Matter.Detector,le=Matter.Constraint,ce=Matter.Composite,G=Matter.Common,ue=Matter.Bounds;(function(){P.create=function(t,e){var o=(t?t.mouse:null)||(e?e.mouse:null);o||(t&&t.render&&t.render.canvas?o=D.create(t.render.canvas):e&&e.element?o=D.create(e.element):(o=D.create(),G.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var n=le.create({label:"Mouse Constraint",pointA:o.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),i={type:"mouseConstraint",mouse:o,element:null,body:null,constraint:n,collisionFilter:{category:1,mask:4294967295,group:0}},s=G.extend(i,e);return F.on(t,"beforeUpdate",function(){var l=ce.allBodies(t.world);P.update(s,l),P._triggerEvents(s)}),s},P.update=function(t,e){var o=t.mouse,n=t.constraint,i=t.body;if(o.button===0){if(n.bodyB)q.set(n.bodyB,!1),n.pointA=o.position;else if(o.readMouseDown()){for(var s=0;s<e.length;s++)if(i=e[s],ue.contains(i.bounds,o.position)&&re.canCollide(i.collisionFilter,t.collisionFilter))for(var l=i.parts.length>1?1:0;l<i.parts.length;l++){var f=i.parts[l];if(ae.contains(f.vertices,o.position)){n.pointA=o.position,n.bodyB=t.body=i,n.pointB={x:o.position.x-i.position.x,y:o.position.y-i.position.y},n.angleB=i.angle,q.set(i,!1),F.trigger(t,"startdrag",{mouse:o,body:i}),o.setCurrentlyInteracting(!0);break}}}}else n.bodyB=t.body=null,n.pointB=null,o.setCurrentlyInteracting(!1),i&&F.trigger(t,"enddrag",{mouse:o,body:i})},P._triggerEvents=function(t){var e=t.mouse,o=e.sourceEvents;o.mousemove&&F.trigger(t,"mousemove",{mouse:e}),o.mousedown&&F.trigger(t,"mousedown",{mouse:e}),o.mouseup&&F.trigger(t,"mouseup",{mouse:e}),D.clearSourceEvents(e)}})();function k(t,e,o){var n;return function(){var i=this,s=arguments;clearTimeout(n),n=setTimeout(function(){n=null,o||t.apply(i,s)},e),o&&!n&&t.apply(i,s)}}document.addEventListener("DOMContentLoaded",function(){var t=Matter.Engine,e=Matter.Render,o=Matter.Runner,n=Matter.Body,i=Matter.Bodies,s=Matter.Bounds,l=Matter.Composite,f=Matter.Vector,A=Matter.Events,p=t.create(),B=document.getElementById("icon-background"),m=e.create({element:B,engine:p,options:{width:B.getBoundingClientRect().width,height:B.getBoundingClientRect().height,pixelRatio:1,background:"transparent",wireframeBackground:"transparent",hasBounds:!1,enabled:!0,wireframes:!1,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}});fetch("/src/icons.json").then(a=>a.json()).then(a=>ee(a));var g=[],v=-1,b=[];let T=document.getElementById("scroll-hints");function U(){let a=document.documentElement.scrollTop||document.body.scrollTop;v!==-1&&a<120?T.classList.add("show"):T.classList.remove("show")}let Q=0,z=!1;document.addEventListener("scroll",function(a){Q=window.scrollY,z||(window.requestAnimationFrame(function(){U(),z=!1}),z=!0)}),document.getElementById("selectIconPrev").addEventListener("click",function(){N(-1)}),document.getElementById("selectIconNext").addEventListener("click",function(){N(1)});var N=function(a){let x=v;I();let w=(x+a)%g.length;v=w<0?w+g.length:w,O(g[v])};let R=!1,$=function(a){let x=b.findIndex(w=>w.contentID==a);I(),O(g[x])};function O(a){a.frictionAir=.4,a.angle=((a.angle+Math.PI)%(Math.PI*2)+Math.PI*2)%(Math.PI*2)-Math.PI,v=a.index,R=!1,V(),U()}function I(){v<0||(g[v].frictionAir=Y,v=-1,V(),U())}var C=document.getElementById("content-default");let V=k(function(){let a="default";if(v!==-1){let w=b[v];a=w.contentID,document.getElementById("iconName").innerText=w.title,document.getElementById("subtitle").innerText=w.category}else document.getElementById("iconName").innerText="Click the arrows above,",document.getElementById("subtitle").innerText="or drag an icon in!";let x=document.getElementById(`content-${a}`);x===null&&(x=document.getElementById("content-missing")),C.id!==x.id&&(C!==null&&(C.classList.add("content-collapse"),Z(C)),C=x,J(C))},100),J=k(function(a){a.classList.remove("content-collapse")},100);V();var Z=function(a){var x=a.querySelectorAll("iframe"),w=a.querySelectorAll("video");x.forEach(L=>{var M=L.src;L.src=M}),w.forEach(L=>{L.pause()})},Y=.01;function ee(a){b=a;let x=document.getElementById("content-section");for(let c=0;c<b.length;c++){let d=b[c];var w=i.circle((Math.random()*.8+.1)*B.getBoundingClientRect().width,(Math.random()*.5+.1)*B.getBoundingClientRect().height,d.radius,{frictionAir:Y,render:{sprite:{texture:d.texture,xScale:d.scale,yScale:d.scale}},index:c});g.push(w);let h=document.createElement("div");h.classList.add("content-section"),h.classList.add("content-collapse"),h.id="content-"+d.contentID,fetch("/src/content-files/"+d.contentID+".html").then(r=>r.text()).then(r=>{h.innerHTML=r,h.querySelectorAll(".content-link").forEach(u=>{let H=u.textContent.split("~",2);u.textContent=H[1],u.addEventListener("click",function(){$(H[0])})}),x.appendChild(h)})}l.add(p.world,g);var L=S.create(m.canvas),M=P.create(p,{mouse:L,constraint:{stiffness:.2,render:{visible:!1}}});M.mouse.element.removeEventListener("mousewheel",M.mouse.mousewheel),M.mouse.element.removeEventListener("DOMMouseScroll",M.mouse.mousewheel),l.add(p.world,M),m.mouse=L,A.on(M,"startdrag",function(c){v===c.body.index&&I()}),A.on(M,"enddrag",function(c){f.magnitude(f.sub(c.body.position,E))<80&&(I(),O(c.body))});let W=100;function te(c){var d=c.position.x,h=c.position.y;return d<0||d>m.canvas.width||h<0||h>m.canvas.height-W}function oe(c){var d=c.position.x,h=c.position.y,r=1/1e4;return{x:d<0?-d*r:d>m.canvas.width?-(d-m.canvas.width)*r:0,y:h<0?-h*r:h>m.canvas.height-W?-(h-m.canvas.height+W)*r:0}}var y=[];function j(c,d,h){return Math.abs(d-c)<=h?d:c+Math.sign(d-c)*h}for(var X=0;X<g.length;X++){var pe=g[X];newAngle=2*Math.PI*Math.random(),y.push({angle:newAngle,x:Math.cos(newAngle)*1,y:Math.sin(newAngle)*1,escaped:!1})}A.on(p,"beforeUpdate",function(c){for(var d=c.source,h=l.allBodies(d.world),r=0;r<h.length;r++){var u=h[r];if(!u.isStatic)if(u.index===v){let H=f.sub(E,u.position),ie=f.mult(H,.001);n.applyForce(u,u.position,ie),n.setAngularVelocity(u,-Math.sign(u.angle)*Math.abs(u.angle%(Math.PI*2))*.1),!R&&f.magnitude(f.sub(u.position,E))<20?R=!0:R&&f.magnitude(f.sub(u.position,E))>100&&I()}else te(u)?(n.applyForce(u,u.position,oe(u)),y[r].escaped||(y[r].angle=(y[r].angle+Math.PI)%(Math.PI*2),y[r].escaped=!0)):y.length>0&&M.body!==u&&(n.setVelocity(u,{x:j(u.velocity.x,y[r].x,.01),y:j(u.velocity.y,y[r].y,.01)}),y[r].escaped=!1)}if(c.timestamp%50<50)for(var r=0;r<y.length;r++)newAngle=(y[r].angle+(Math.random()-.5)*.1)%(Math.PI*2),y[r]={angle:newAngle,x:Math.cos(newAngle)*1,y:Math.sin(newAngle)*1,angular:Math.random()-.5}}),p.gravity.scale=0;var E=f.create(0,0);E.x=m.canvas.width/2,E.y=m.canvas.height-64,window.addEventListener("resize",function(){m.canvas.width=B.getBoundingClientRect().width,m.canvas.height=B.getBoundingClientRect().height,R=!1,E.x=m.canvas.width/2,E.y=m.canvas.height-64}),e.run(m);var ne=o.create();o.run(ne,p)}});var _=class{constructor(e,o){this.canvas=e,this.count=o.count||10,this.lengthA=o.lengthA||1.2,this.lengthB=o.lengthB||.8,this.heightA=o.heightA||.2,this.heightB=o.heightB||.2,this.speedA=o.speedA||.15,this.speedB=o.speedB||-.15,this.secondaryLengthA=o.secondaryLengthA||2,this.secondaryLengthB=o.secondaryLengthB||3,this.secondaryHeightA=o.secondaryHeightA||.1,this.secondaryHeightB=o.secondaryHeightB||.1,this.secondarySpeedA=o.secondarySpeedA||-.2,this.secondarySpeedB=o.secondarySpeedB||.2,this.pulseSpeedA=o.pulseSpeedA||.5,this.pulseSpeedB=o.pulseSpeedB||.9,this.colorStart=o.colorStart||[45/256,212/256,191/256,1],this.colorEnd=o.colorEnd||[17/256,94/256,89/256,1],this.blendAdditive=o.blendAdditive||!1,this.randomXOffset=o.randomXOffset||!0,this.holeSize=o.holeSize||0,this.time=-600;let n=e.getContext("webgl",{premultipliedAlpha:!1});if(n===null){alert("Unable to initialize WebGL. Your browser or machine may not support it.");return}n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT);let i=de(n,fe,me),s={program:i,attribLocations:{vertexPosition:n.getAttribLocation(i,"aVertexPosition")},uniformLocations:{projectionMatrix:n.getUniformLocation(i,"uProjectionMatrix"),modelViewMatrix:n.getUniformLocation(i,"uModelViewMatrix"),resolution:n.getUniformLocation(i,"uResolution"),time:n.getUniformLocation(i,"uTime"),count:n.getUniformLocation(i,"uCount"),length:n.getUniformLocation(i,"uLength"),height:n.getUniformLocation(i,"uHeight"),speed:n.getUniformLocation(i,"uSpeed"),pulseSpeed:n.getUniformLocation(i,"uPulseSpeed"),holeSize:n.getUniformLocation(i,"uHoleSize"),colorStart:n.getUniformLocation(i,"uColorStart"),colorEnd:n.getUniformLocation(i,"uColorEnd"),blendAdditive:n.getUniformLocation(i,"uBlendAdditive"),randomXOffset:n.getUniformLocation(i,"uRandomXOffset")}},l=he(n);this.render=function(f){this.drawScene(n,s,l,f)},this.render(0)}randomise(){this.lengthA=Math.random()*1,this.lengthB=Math.random()*1,this.heightA=Math.random()/5,this.heightB=Math.random()/5,this.speedA=Math.random()-.5,this.speedB=Math.random()-.5,this.secondaryLengthA=Math.random()*1,this.secondaryLengthB=Math.random()*1,this.secondarySpeedA=Math.random()-.5,this.secondarySpeedB=Math.random()-.5}startAnimation(){this.animate(Date.now())}animate(e){let o=Date.now(),n=(o-e)/1e3;this.renderFrame(n),requestAnimationFrame(()=>this.animate(o))}renderFrame(e){this.render(e)}resizeCanvasToDisplaySize(){let e=this.canvas.clientWidth,o=this.canvas.clientHeight,n=this.canvas.width!==e||this.canvas.height!==o;return n&&(this.canvas.width=e,this.canvas.height=o),n}drawScene(e,o,n,i){this.resizeCanvasToDisplaySize(),e.viewport(0,0,e.canvas.width,e.canvas.height),this.time+=i,e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);let s=45*Math.PI/180,l=e.canvas.clientWidth/e.canvas.clientHeight,f=.1,A=100,p=mat4.create();mat4.perspective(p,s,l,f,A);let B=mat4.create();mat4.translate(B,B,[-0,0,-6]);{let m=2,g=e.FLOAT,v=!1,b=0,T=0;e.bindBuffer(e.ARRAY_BUFFER,n.position),e.vertexAttribPointer(o.attribLocations.vertexPosition,m,g,v,b,T),e.enableVertexAttribArray(o.attribLocations.vertexPosition)}e.useProgram(o.program),e.uniformMatrix4fv(o.uniformLocations.projectionMatrix,!1,p),e.uniformMatrix4fv(o.uniformLocations.modelViewMatrix,!1,B),e.uniform2i(o.uniformLocations.resolution,this.canvas.width,this.canvas.height),e.uniform1f(o.uniformLocations.time,this.time),e.uniform1i(o.uniformLocations.count,this.count),e.uniform4f(o.uniformLocations.length,this.lengthA,this.lengthB,this.secondaryLengthA,this.secondaryLengthB),e.uniform4f(o.uniformLocations.height,this.heightA,this.heightB,this.secondaryHeightA,this.secondaryHeightB),e.uniform4f(o.uniformLocations.speed,this.speedA,this.speedB,this.secondarySpeedA,this.secondarySpeedB),e.uniform2f(o.uniformLocations.pulseSpeed,this.pulseSpeedA,this.pulseSpeedB),e.uniform1f(o.uniformLocations.holeSize,this.holeSize),e.uniform4fv(o.uniformLocations.colorStart,this.colorStart),e.uniform4fv(o.uniformLocations.colorEnd,this.colorEnd),e.uniform1i(o.uniformLocations.blendAdditive,this.blendAdditive),e.uniform1i(o.uniformLocations.randomXOffset,this.randomXOffset);{let m=0,g=4;e.drawArrays(e.TRIANGLE_STRIP,m,g)}}};function de(t,e,o){let n=K(t,t.VERTEX_SHADER,e),i=K(t,t.FRAGMENT_SHADER,o),s=t.createProgram();return t.attachShader(s,n),t.attachShader(s,i),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(alert("Unable to initialize the shader program: "+t.getProgramInfoLog(s)),null)}function K(t,e,o){let n=t.createShader(e);return t.shaderSource(n,o),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(n)),t.deleteShader(n),null)}function he(t){let e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,e);let o=[1,1,-1,1,1,-1,-1,-1];return t.bufferData(t.ARRAY_BUFFER,new Float32Array(o),t.STATIC_DRAW),{position:e}}var fe=`
precision mediump float;
precision mediump int;

attribute vec4 aVertexPosition;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec2 pos;

void main() {
    gl_Position = sign(aVertexPosition);
    pos = (gl_Position.xy + vec2(1.0)) / 2.0;
}
`,me=`
precision highp float;
precision mediump int;

uniform float uTime;
uniform ivec2 uResolution;
uniform int uCount;

uniform bool uBlendAdditive;
uniform bool uRandomXOffset;

// x,y: Base wave start/end
// z,w: Secondary wave start/end
uniform vec4 uLength;
uniform vec4 uHeight;
uniform vec4 uSpeed;
uniform vec2 uPulseSpeed;
uniform float uHoleSize;

uniform vec4 uColorStart;
uniform vec4 uColorEnd;

varying vec2 pos;

float rand(vec2 co){
    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);
}

void main() {
    float count = float(uCount) - 1.0;

    float lowerBound = uHeight.x;
    float upperBound = 1.0 - uHeight.y;

    if (uBlendAdditive) {
        lowerBound += uHeight.z;
        upperBound -= uHeight.w;
    }
    
    // Need to alter the amount the waves are blended depending on resolution to prevent hard edges
    float blurAmount = float(uResolution.y / 1);

    for(int iInt=0; iInt<10; iInt++) {
        if (iInt < uCount) {
            float i = float(iInt);
            
            float percent = i / count;

            float length1 = mix(uLength.x, uLength.y, percent);
            float length2 = mix(uLength.z, uLength.w, percent);

            float height1 = clamp(mix(uHeight.x, uHeight.y, percent), 0.0, 1.0);
            float height2 = clamp(mix(uHeight.z, uHeight.w, percent), 0.0, 1.0);

            float speed1 = mix(uSpeed.x, uSpeed.y, percent);
            float speed2 = mix(uSpeed.z, uSpeed.w, percent);

            float pulseSpeed = mix(uPulseSpeed.x, uPulseSpeed.y, percent);

            float waveMidHeight = mix(lowerBound, upperBound, 1.0 - (1.0 - percent) * (sin(uTime * pulseSpeed + radians(90.0)) + 1.0) / 2.0);

            float xPos = pos.x;
            if (uRandomXOffset) {
                xPos += rand(vec2(i)) * 50.0;
            }

            float wave1 = sin(((xPos + speed1 * length1 * uTime) * radians(360.0)) / length1) * height1;
            float wave2 = sin(((xPos + speed2 * length2 * uTime) * radians(360.0)) / length2);

            float blendedWave = 0.0;

            if (uBlendAdditive) {
                blendedWave = wave1 + wave2 * height2;
            } else {
                blendedWave = wave1 * (wave2 + 1.0) / 2.0;
            }

            if(1.0 - pos.y > waveMidHeight + blendedWave) {
                vec4 color = mix(uColorStart, uColorEnd, percent);

                float edgeFade = min(((1.0 - pos.y) - (waveMidHeight + blendedWave)) * blurAmount, 1.0);

                // Detects the uppermost wave edge and blends it's alpha rather than color
                if (gl_FragColor.a == 0.0) {
                    gl_FragColor = color;
                    gl_FragColor.a = edgeFade;
                } else {
                    gl_FragColor = mix(gl_FragColor, color, edgeFade);
                }
            }
        }
    }

    vec2 pixelPos = pos * vec2(uResolution);
    float dist = distance(vec2(float(uResolution.x) * 0.5, float(uResolution.y) * 0.32), pixelPos);
    if(dist <= uHoleSize) {
        if(dist + 10.0 <= uHoleSize) {
            float edgeFade = clamp(1.0 - ((uHoleSize - dist) - 20.0) / 1.0, 0.0, 1.0);
            gl_FragColor = uColorEnd;
            gl_FragColor.a = edgeFade;
        } else {
            float edgeFade = clamp(((uHoleSize - dist)) / 1.0, 0.0, 1.0);
            gl_FragColor = mix(gl_FragColor, uColorEnd, edgeFade);
        }
    }
}
`;GenerateNewWaves=function(t,e){return new _(t,e)};})();
